{# Custom brand template with version selector #}
<a class="sidebar-brand{% if logo %} centered{% endif %}" href="{{ pathto(master_doc) }}">
  {%- block brand_content %}
  {%- if logo_url %}
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="{{ logo_url }}" alt="Logo"/>
  </div>
  {%- endif %}
  {%- if theme_light_logo and theme_dark_logo %}
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="{{ pathto('_static/' + theme_light_logo, 1) }}" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="{{ pathto('_static/' + theme_dark_logo, 1) }}" alt="Dark Logo"/>
  </div>
  {%- endif %}
  {% if not theme_sidebar_hide_name %}
  <span class="sidebar-brand-text">{{ docstitle if docstitle else project }}</span>
  {% endif %}
  {%- endblock brand_content %}
</a>
{% set has_versions = versions is defined and versions %}
{% set current_label = (current_version.name if current_version else release or version or project) %}
<div class="sidebar-version">
  <label class="sidebar-version-label" for="version-select">Version</label>
  <select id="version-select" class="sidebar-version-select" onchange="if (this.value) { window.location.href = this.value; }">
    {% if has_versions %}
      {% for version_option in versions %}
      {% set selected = current_version and version_option.name == current_version.name %}
      <option value="{{ version_option.url }}"{% if selected %} selected{% endif %}>{{ version_option.name }}</option>
      {% endfor %}
    {% else %}
      <option value="" selected>{{ current_label }}</option>
    {% endif %}
  </select>
</div>
